<!DOCTYPE html>
<html>
   <head>
      <title>WDD 330 Portfolio: Week 09</title>
   </head>

   <body>
   <script src="main.js"></script>
    <h1>Chapter 09: The Window Object</h1>
      <ul>
        <h2>The Browser Object Model (BOM)</h2>
        <li>a collection of properties and methods that contain information about the browser and computer screen</li>
        <li>These properties and methods are made available through the window object.</li>
        <h3>Going Global</h3>
        <li>global variables: created without using the <em>const</em>, <em>let</em> or <em>var</em> keywords. <br>Global variables can be accessed in all parts of the program; actual properties of a global object (i.e. <em>window</em> object)</li>
        <li>refer to global variables without using the window object; it’s less typing and your code will be more portable between environments</li>
        <h3>Dialogs</h3>
        <li>There are three functions that produced dialogs in the browsers: alert() , confirm() and prompt()<br>These are not part of the ECMAScript standard, although all major browsers support them as methods of the window object.</li>
        <li>The window.alert() method will pause the execution of the program and display a message in a dialog box. The message is provided as an argument to the method, and undefined is always returned.</li>
        <li>The window.confirm() method will stop the execution of the program and display a confirmation dialog that shows the message provided as an argument, and giving the options of OK or Cancel. It returns the boolean values of true if the user clicks OK, and false if the user clicks Cancel.</li>
        <li>The window.prompt() method will stop the execution of the program. It displays a dialog that shows a message provided as an argument, as well as an input field that allows the user to enter text. This text is then returned as a string when the user clicks OK. If the user clicks Cancel, null is returned.</li>
        <li>t’s worth reiterating again that these methods will <em>stop the execution of a program in its tracks</em>. This means that everything will stop processing at the point the method is called, until the user clicks "OK" or "Cancel." <br>This can cause problems if the program needs to process something else at the same time or the program is waiting for a callback function.</li>
        <br>
        <h2>Finding out browser information</h2>
        <h3>Which Browser?</h3>
        <li><em>navigator property</em>: returns a reference to the Navigator object<br><em>navigator object</em> contains information about the browser being used<br><em>userAgent property</em> will return information about the browser and operating system being used</li>
        <li>window.navigator.userAgent<br><< "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"<br>shows that the browser is using Safari version 10 on Mac OS</li>
        <li><em>Don’t rely on this information</em> though, as it can be modified by a user to masquerade as a different browser. It can also be difficult to make any sense of the string returned, because all browsers pretend to be others to some degree.</li>
        <h3>Location, Location, Location</h3>
        <li><em>window.location property</em> is an object that contains information about the URL of the current page<br>   contains a number of properties that provide information about different fragments of the URL</li>
        <ul>
          <li>The <em>href property</em> returns the full URL as a string<br>This property is a read/write property; it can also be changed by assignment. If this is done, the page will be reloaded using the new property. </li>
          <li>The <em>protocol property</em> returns a string describing the protocol used (such as http , https , pop2 , ftp etc.).<br>window.location.protocol<br><< "https:"</li>
          <li>The <em>host property</em> returns a string describing the domain of the current URLandthe port number (this is often omitted if the default port 80 is used).</li>
          <li>The <em>hostname property</em> returns a string describing the domain of the current URL.</li>
          <li>The <em>port property</em> returns a string describing the port number, although it will return an empty string if the port is not explicitly stated in the URL.</li>
          <li>The <em>pathname property</em> returns a string of the path that follows the domain.</li>
          <li>The <em>search property</em> returns a string that starts with a “?” followed by the query string parameters. It returns an empty string if there are no query string parameters.</li>
          <li>The <em>hash property</em> returns a string that starts with a “#” followed by the fragment identifier. It returns an empty string if there is no fragment identifier.</li>
          <li>The <em>origin property</em> returns a string that shows the protocol and domain where the current page originated from. This property is read-only, so cannot be changed.</li>
          <li>The window.location object also has the following methods:</li>
          <ol>
            <li>The <em>reload() method</em> can be used to force a reload of the current page. If it’s given a parameter of true , it will force the browser to reload the page from the server, instead of using a cached page.</li>
            <li>The <em>assign() method</em> can be used to load another resource from a URL provided as a parameter.</li>
            <li>The <em>replace() method</em> is almost the same as the assign() method, except the current page will not be stored in the session history, so the user will be unable to navigate back to it using the back button.</li>
            <li>The <em>toString() method</em> returns a string containing the whole URL</li>
           </ol>
        </ul>
        <br>
        <h2>Browser history</h2>
        <li>The <em>window.history property</em> can be used to access information about any previously visited pages in the current browser session. <br>Avoid confusing this with the new HTML5 History API.</li>
        <li>The <em>window.history.length property</em> shows how many pages have been visited before arriving at the current page.</li>
        <li>The <em>window.history.go() method</em> can be used to go to a specific page, where 0 is the current page.</li>
        <li>There are also the <em>window.history.forward()</em> and <em>window.history.back()</em> methods that can be used to navigate forwards and backwards by one page respectively, just like using the browser’s forward and back buttons.</li>
        <br>
        <h2>Controlling windows</h2>
        <li>A new window can be opened using the <em>window.open()<em> method. This takes the URL of the page to be opened as its first parameter, the window title as its second parameter, and a list of attributes as the third parameter. This can also be assigned to a variable, so the window can then be referenced later in the code.</li>
        <li>The <em>close() method</em> can be used to close a window, assuming you have a reference to it.</li>
        <li>Other methods:</li>
        <ol>
          <li>window.moveTo() => takes two parameters that are the X and Y coordinates of the screen</li>
          <li>window.resizeTo() => takes two parameters that specify the width and height of the resized window’s dimensions</li>
        </ol>
        <h3>Screen Information</h3>
        <li>window.screen object => contains information about the screen the browser is displayed on</li>
        <li>properties of window.screen object:</li>
        <ol>
          <li>window.screen.height</li>
          <li>window.screen.width</li>
          <li>window.screen.availWidth</li>
          <li>window.screen.availHeight</li>
          <li>window.screen.colorDepth</li>
        </ol>
        <h3>The Document Object</h3>
        <li>Each window object contains a document object. <br>This object has properties and methods that deal with the page that has been loaded into the window.</li>
        <li>document.write() => simply writes a string of text to the page</li>
        <li>This method is heavily frowned upon as it can only be realistically used by mixing JavaScript within an HTML document</li>
        <br>
        <h2>Cookies</h2>
        <li>small files that are saved locally on a user’s computer</li>
        <li>restriction: they can only be read by a web page from the same domain that set them</li>
        <li>limited to storing up to 4KB of data, although 20 cookies are allowed per domain, which can add up to quite a lot of data</li>
        <li>can be used for personalizing a user’s browsing experience, storing user preferences, keeping track of user choices (such as a shopping cart), authentication and tracking users</li>
        <li>take the form of a text file that contain a list of name/value pairs separated by semicolons</li>
        <li><em>Creating Cookies:</em> To create a cookie, you assign it to JavaScript’s “cookie jar”, using the document.cookie property, like so:<br>document.cookie = 'name=Superman';<br><< "name=Superman"</li>
        <li><emChanging Cookie Values:</em> A cookie’s value can be changed by reassigning it to document.cookie using the same name but a different value. </li>
        <li><em>Reading Cookies:</em> To see the current contents of the cookie jar, simply enter document.cookie</li>
        <li><em>Cookie Expiry Dates:</em> session cookies by default. This means they are deleted once a browser session is finished.</li>
        <li><em>The Path and Domain of Cookies:</em> can only be read by pages inside the same directory and domain as the file was set<br>The path can be changed so that any page in the root directory can read the cookie. It’s done by adding the string ; path=/ to the end of the cookie when it is set</li>
        <li><em>Secure Cookies:</em> Adding the string ; secure to the end of a cookie will ensure it’s only transmitted over a secure HTTPS network</li>
        <li><em>Deleting Cookies:</em> To remove a cookie, you need to set it to expire at a time in the past</li>
        <br>
        <h2>Timing functions</h2>
        <li>setTimeout() => accepts a callback to a function as its first parameter and a number of milliseconds as its second parameter</li>
        <li>setInterval() => works in a similar way to window.setTimeout() , except that it will repeatedly invoke the callback function after every given number of milliseconds</li>
        <h3>Animation</h3>
        <li>The setTimeOut() and setInterval() methods can be used to animate elements on a web page.</li>
        <li>requestAnimationFrame => works in much the same way as the window.setInterval() method, although it has a number of improvements to optimize its performance.</li>
        <ol>
          <li>making the most of the browser’s built-in graphics-handling capabilities</li>
          <li>not running the animation when the tab is inactive</li>
          <li>resulting in a much smoother performance</li>
          <li>supported in all major browsers</li>
        </ol>
        <br>
        <h2>Chapter Summary</h2>
        <li>The window object is the global object in a browser.</li>
        <li>Global variables are actually properties of the window object in a browser environment.</li>
        <li>alert , confirm() , and prompt() are all methods of the window object, and open dialogs that halt the execution of the program.</li>
        <li>The window.navigator object gives information about the user’s browser and operating system, although it can be unreliable.</li>
        <li>The window.location object provides information about the URL of the current page.</li>
        <li>The window.history object keeps information about the pages that have been visited in the session.</li>
        <li>You can open, close, resize, and move windows (although, this doesn’t mean you should!).</li>
        <li>The window.screen object provides information about the user’s screen.</li>
        <li>document.write() is an archaic method of writing text to the document and should be avoided.</li>
        <li>Cookies can be used to store small pieces of information between requests using the document.cookie property.</li>
        <li>The window.setTimeout() method can be used to invoke a function after a set amount of time. It can be canceled using the clearTimeout() method.</li>
        <li>The window.setInterval() method can be used to repeatedly invoke a function. It can be stopped using the clearInterval() method.</li>
        <li>The window.requestAnimationFrame() method can be used to produce smooth and optimized animation by utilizing the browser's built-in graphics capabilities. It can be canceled using the cancelAnimationFrame() method.</li>
       </ul>
       <br>
       
      <h1>Chapter 14: HTML5 APIs</h1>
       <ul>
        <li>HTML5: added a large number of new features to the specification. It also went beyond the actual markup language and brought together a number of related technologies such as CSS and JavaScript.</li>
        <br>
        <h2>The development of HTML5 and the JavaScript APIs</h2>
        <li>The W3C plans to develop future versions of HTML5 much more frequently than previously, using smaller version increments. </li>
        <li>The HTML5 specification is separated into modules that allow different features to be developed at different paces then implemented without having to wait for other features to be completed.</li>
        <li>It also means that when a previously unforeseen development occurs, a new module can be created to cater for it.</li>
        <li>A useful site that checks to see if a specific feature can be used is "Can I Use."</li>
        <br>
        
        <h2>The <em>data-</em> attribute</h2>
        <li>a way of embedding data in a web page using custom attributes that are ignored by the browser; private to a page, so are not intended to be used by an external service – their sole purpose is to be used by a JavaScript program; perfect for adding data that can be used as a hook that the program utilizes to access information about a particular element on the page</li>
        <li>The names of these attributes can be decided by the developer, but they must use the following format:</li>
        <ol>
          <li>Start with data- .</li>
          <li>Contain only lowercase letters, numbers, hyphens, dots, colons or underscores.</li>
          <li>Include an optional string value.</li>
          <li>Examples could be:</li>
          <li>data-powers = 'flight superSpeed'</li>
          <li>data-rating = '5'</li>
          <li>data-dropdown</li>
          <li>data-user = 'DAZ'</li>
          <li>data-max-length = '32'</li>
        </ol>
        <li>The information contained in the attributes can be used to identify particular elements. </li>
        <li>Each element has a <em>dataset property</em> that can be used to access any data- attributes it contains. </li>
        <li>The restriction of only using a string value can be overcome by encoding any JavaScript object or value as a JSON string, then performing type-conversion later, as required.</li>
        <br>
        
        <h2>HTML5 APIs―local storage, geolocation, web workers, and multimedia</h2>
        <li>The HTML5 specification contains a number of APIs that help to gain access to hardware, such as cameras, batteries, geolocation, and the graphics card.</li>
        <br>
        
        <h3>HTML5 Web Storage</h3>
        <li>provides a key-value store on the client’s computer that is similar to using cookies but has fewer restrictions, more storage capacity, and is generally easier to use</li>
        <li>The Web Storage API has some crucial differences with cookies:</li>
        <ol>
          <li>Information stored isnotshared with the server on every request.</li>
          <li>Information is available in multiple windows of the browser (but only if the domain is the same).</li>
          <li>Storage capacity limit is much larger than the 4KB limit for cookies ( There is no actual limit in the specification, but most browsers have a limit set at 5GB per domain.).</li>
          <li>Any data stored does not automatically expire as it does with cookies. This potentially makes cookies a better choice for something like showing a popup once a day.</li>
        </ol>
        <li>If a browser supports the Web Storage API, the window object will have a property called localStorage , which is a native object with a number of properties and methods used to store data. The information is saved in the form of key-value pairs, and the values can only be strings.</li>
        <li>There is also a sessionStorage object that works in the same way, although the data is only saved for the current session.</li>
        <br>
        
        <h3>Geolocation</h3>
        <li>used to obtain the geographical position of the device</li>
        <li>can be used to find the user’s exact location, then link to nearby places or measure the speed at which the user is moving</li>
        <li>If geolocation is available, it will be a property of the <em>navigator object</em>.</li>
        <li>This property has a method called <em>getCurrentPosition()</em> that will return a position object to a specified callback function, called <em>youAreHere()</em>.</li>
        <li>The <em>position object</em> has several other properties that can be used to find out information about the location and movement of the device:</li>
        <ol>
          <li>coords</li>
          <li>latitude</li>
          <li>longitude</li>
          <li>position.speed => returns the ground speed of the device in meters per second</li>
          <li>position.altitude => returns an estimate of the device’s altitude in meters above theWGS84ellipsoid, which is a standard measurement for the center of the Earth</li>
          <li>position.heading => returns the direction the device is moving in. This is measured as a bearing in degrees, clockwise from North</li>
          <li>position.timestamp => returns the time that the position information was recorded</li>
          <li>position.accuracy => calculate the accuracy of the measurements</li>
        </ol>
        <li>geolocation object methods</li>
        <ol>
          <li>watchPosition() => call a callback function every time the position of the device is updated</li>
          <li>clearWatch() => can be used to stop the callback being called</li>
        </ol>
        <br>
        
        <h3>Web Workers</h3>
        <li>allow processes to be run in the background, adding support for concurrency in JavaScript</li>
        <li>To get started, use the Worker() constructor function to create a new worker:<br>const worker = new Worker('task.js');</li>
        <li>This function takes the name of another JavaScript file as an argument. <br>In the example, this is a file called 'task.js'. <br>If this file exists, it will be downloaded asynchronously. <br>The worker will only start once the file has finished downloading completely. <br>If the file doesn’t exist, an error is thrown.</li>
        <li>Web workers use the concept of messages to communicate back and forth between the main script and worker script.</li>
        <li>The postMessage() method can be used to send a messageandstart the worker working.</li>
        <li>To post a messagefromthe worker, the following is used in the worker script:<br>self.postMessage('Finished');</li>
        <li>When a worker has completed its task, it can be stopped using the terminate() method from within the main script:<br>worker.terminate();</li>
        <li>Or using the close() method from inside the worker script:<br>self.close();</li>
        <br>
        
        <h3>A Factorizing Example</h3>
        <li><a href="week9/events/factors.html">HTML pg</a> - for factoring numbers</li>
        <li><a href="week9/events/main.js">For factors.html page</a> - Uses JS to factor numbers</li>
        <li>if you enter a sizable number (around 18–20 digits), it takes longer to process the answer, and the browser will display a warning or the dreaded 'rainbow-whirl' that means something is taking a long time</li>
        <li>it’s impossible to click on the 'Change Color' button while the factors are being calculated ― the whole program freezes until the operation is complete</li>
        <li><em>use web workers to solve this problem:</em></li>
        <li>Firstly, we create a new file called factors.js ; and save it in the same folder as main.js . Then we remove the factorsOf() function from the main.js file and add it into our new factors.js ; file. </li>
        <br>
        <h3>Shared Web Workers</h3>
        <li>allow lots of different scripts on the same domain to access the same worker object</li>
        <li>allow computationally complex operations to be performed in a separate thread, meaning that the flow of a program won’t suffer interruptions, and an application will not freeze or hang</li>
        <br>
        <h3>Service Workers</h3>
        <li>allows a worker script to run in the background with the added benefit of being able to intercept network requests</li>
        <li>There are a large number of different examples of using the Service Worker API inThe Service Worker Cookbook, which is maintained by Mozilla.</li>
        <br>
        <h3>Websockets</h3>
        <li>a new protocol that allows two-way communication with a server – also known as push messaging. <br>This means that a connection is kept open and responses are ‘pushed’ to the client as soon as they are received.</li>
        <li>See this <a href="week9/events/websockets/websockets.html"> websocket example</a> for a demonstration of using websockets in a chat app</li>
          <br>
          
          <h3>Notifications</h3>
        <li>allows you to show messages using the system's notifications</li>
        <li> usually a popup in the corner of the screen, but it changes depending on the operating system</li>
        <li><em>requestPermission()</em> method of a Notification global object => get permission granted by the user</li>
        <li>This returns a promise with the permission property of the Notification object set to either 'granted' or 'denied'. If it’s set to granted, you can create a new notification using a constructor function.</li>
          <li>You can read more about the <a href="https://developer.mozilla.org/en-US/docs/Web/API/notification">Notification API on MDN</a> and <a href="https://www.sitepoint.com/browser-notification-api/">this article on SitePoint</a>.</li>
          <br>
          
          <h3>Multimedia</h3>
          <li>An audio clip can be inserted into a page with the <em><audio> tag</em>, using the src attribute to point to the audio file.</li>
          <li>A video clip can be inserted with the <em><video> tag</em>, using the src attribute to point to the movie file.</li>
        <li>Any content inside the <audio> or <video> tags will only display if the browser does not support them; hence, it can be used to display a message to users of older browsers without support for these features.</li>
           <li>The <em>controls attribute</em> can be added (without any value) and will display the browser’s native controls, such as play, pause, and volume control.</li>
        <li>Audio and video elements have a number of properties and methods to control the playback of the clip.</li>
        <li>video.play();<br>video.pause();<br></li>
        <li>video.volume = 0.9; => a number that can be used to set the audio volume</li>
          <li>video.muted = true; => boolean value that can be used to mute the audio</li>
        <li>video.currentTime += 10; // jumps forward 10 seconds</li>
        <li>video.playbackRate = 8; // fast-forward at 8 times as fast</li>
        <li>video.loop = true; => a boolean value that can be set to true to make the clip repeat in a loop</li>
           <li>video.duration; => can be used to see how long the clip lasts</li>
        <li>Audio and video clips also have a number of events that will fire when they occur, including:</li>
           <ol>
              <li>The play event, which fires when the clip starts and when it resumes after a pause.</li>
              <li>The pause event, which fires when the clip is paused.</li>
              <li>The volumechange event, which fires when the volume is changed.</li>
              <li>The loadedmetadata event, which we saw in the note above, and which fires when all the video's metadata has loaded.</li>
           </ol>
           <br>
           
           <h3>Other APIs</h3>
        <li>The list of APIs is constantly growing, and includes APIs for accessing a device’s camera, uploading files, accessing the battery status, handling push notifications, building drag-and-drop functionality, creating 3D effects with WebGL, and many more! </li>
        <li>A comprehensive list of HTML5 APIs can be found at the <a href="https://developer.mozilla.org/en-US/docs/Web/API">Mozilla Developer Network</a>.</li>
        <br>
        
        <h2>Drawing shapes with canvas</h2>
        <li>The canvas element was introduced to allow graphics to be drawn onto a web page in real time using JavaScript.</li>
        <li>A canvas element is a rectangular element on the web page. It has a coordinate system that starts at (0,0) in the top-left corner. </li>
        <li>To add a canvas element to a page, the <canvas> tag is used specifying a height and width.</li>
        <li>Anything placed inside the tag will only display if the canvas element is unsupported.</li>
        <li>A canvas element can be accessed in a JavaScript program using the document.getElementById() method.</li>
        <li>The next step is to access the context of the canvas. This is an object that contains all the methods used to draw onto the canvas. </li>
           <li>See a <a href="https://www.sitepoint.com/premium/books/javascript-novice-to-ninja-2nd-edition/read/14/k01nwvvl?fromShare=true">step-by-step guide</a> for drawing shapes with Canvas.</li>
           <li>See <a href="week9/events/canvasExampleMisc.js">this link</a> for a Canvas example.</li>
        <br>
           
        <h2>Shims and polyfills ― how to make the most of HTML5 APIs, even when they’re without browser support</h2>
        <li>These are libraries of code that allow you to use the APIs as usual. They then fill in the necessary code that's not provided natively by the user’s browser.</li>
           <li><em>shim</em> - a piece of code that adds some missing functionality to a browser, although the implementation method may differ slightly from the standard API</li>
           <li><em>polyfill</em> - a shim that achieves the same functionality, while also using the API commands that would be used if the feature was supported natively</li>
        <li>This means that your code can use the APIs as normal and it should work as expected in older browsers.</li>
        <li>The advantage here is that the same set of standard API commands can be used ― you don’t need to write additional code to deal with different levels of support.</li>
        <br>
       
        <h2>Chapter Summary</h2>
        <ol>
          <li>HTML5.1 is the latest incarnation of the Hypertext Markup Language. It covers a variety of technologies, including several APIs that are accessible using JavaScript.</li>
          <li><em>data-</em> attributes help to embed custom data into a web page that can then be used to enhance the user experience with JavaScript.</li> 
          <li>The Web Storage API allows key-value pairs to be stored on the user’s device in a similar way to cookies, but without the same storage restrictions.</li>
          <li>The Geolocation API allows you to access the geographic coordinates of the user’s device, as long as the user gives permission.</li>
          <li>The Web Worker API can be used to perform computationally intensive tasks in the background, which helps to avoid websites becoming unresponsive.</li>
          <li>Websockets are a new protocol for communicating over the internet, and allow real-time, two-way communication.</li>
          <li>The Notification API allows you to display notifications on the user's system.</li>
          <li>The <em><audio></em> and <em><video></em> elements can be employed to embed audio tracks and video clips in a web page. They also have a Media API that can help control the playback using JavaScript.</li>
          <li>The <em>canvas element</em> can be used to dynamically draw geometric shapes, text, and images on a web page in real-time using JavaScript.</li>
          <li>A <em>shim</em> or <em>polyfill</em> is a piece of code that adds support of missing features to older browsers.</li>
        </ol>
      </ul>
   </body>

</html>
